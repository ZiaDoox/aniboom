{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Row,Col,Container}from'react-bootstrap';import Message from'../components/Message';import Loader from'../components/Loader';import Meta from'../components/Meta';var CategoryScreen=function CategoryScreen(_ref){var history=_ref.history,match=_ref.match;var dispatch=useDispatch();var productList=useSelector(function(state){return state.productList;});var loading=productList.loading,error=productList.error,products=productList.products;var category=match.params.category;var addToCartHandler=function addToCartHandler(id){history.push(\"/cart/\".concat(id,\"?qty=\",1));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Meta,null),/*#__PURE__*/React.createElement(\"h1\",null,\"Espaces \",category),loading?/*#__PURE__*/React.createElement(Loader,null):error?/*#__PURE__*/React.createElement(Message,{variant:\"danger\"},error):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Container,{className:\"mt-5 mb-5 p-0\"},/*#__PURE__*/React.createElement(Row,{className:\"d-flex justify-content-center\"},products.filter(function(product){return product.category===category;}).map(function(product){return/*#__PURE__*/React.createElement(Col,{md:10,key:product._id},/*#__PURE__*/React.createElement(Row,{className:\"p-2 border rounded\"},/*#__PURE__*/React.createElement(Col,{className:\"mt-1\",md:3},/*#__PURE__*/React.createElement(\"img\",{className:\"img-fluid ig-responsive rounded product-img\",src:product.image})),/*#__PURE__*/React.createElement(Col,{className:\"mt-1\",md:6},/*#__PURE__*/React.createElement(\"h5\",null,product.name),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ratings mr-2\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-start\"})),/*#__PURE__*/React.createElement(\"p\",{className:\"text-justify text-truncate para mb-0 mt-2\"},product.description))),/*#__PURE__*/React.createElement(Col,{className:\"align-items-center align-content-center border-left mt-1\",md:3},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-row align-items-center\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"mr-1\"},\"MAD\",product.price)),/*#__PURE__*/React.createElement(\"h6\",{className:\"text-success\"},\"Free Shipping\"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column mt-4\"},/*#__PURE__*/React.createElement(\"a\",{className:\"btn btn-primary btn-sm btn-details\",href:\"/product/\".concat(product._id)},\"Details\"),/*#__PURE__*/React.createElement(\"button\",{disabled:product.countInStock===0,className:\"btn btn-outline-primary btn-atc btn-sm mt-2\",type:\"button\"},\"Add to cart\"),/*#__PURE__*/React.createElement(\"p\",{className:\"m-2\"},product.countInStock>0?'Stock: '+product.countInStock:'Out Of Stock')))));})))));};export default CategoryScreen;","map":{"version":3,"sources":["/Users/ostore/aniboom/frontend/src/screens/CategoryScreen.js"],"names":["React","useEffect","useDispatch","useSelector","Row","Col","Container","Message","Loader","Meta","CategoryScreen","history","match","dispatch","productList","state","loading","error","products","category","params","addToCartHandler","id","push","filter","product","map","_id","image","name","description","price","countInStock"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Row, Col, Container } from 'react-bootstrap'\nimport Message from '../components/Message'\nimport Loader from '../components/Loader'\nimport Meta from '../components/Meta'\n\n\nconst CategoryScreen = ({ history, match }) => {\n  const dispatch = useDispatch()\n\n  const productList = useSelector((state) => state.productList)\n  const { loading, error, products} = productList\n\n  const category = match.params.category\n\n  const addToCartHandler = (id) => {\n    history.push(`/cart/${id}?qty=${1}`)\n  }\n\n  return (\n    <>\n      <Meta />\n      <h1>Espaces {category}</h1>\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant='danger'>{error}</Message>\n      ) : (\n        <>\n          <Container className=\"mt-5 mb-5 p-0\">\n            <Row className=\"d-flex justify-content-center\">\n              {products.filter(function(product) {\n                return product.category === category;\n              }).map((product) => (\n                <Col md={10} key={product._id}>\n                <Row className=\"p-2 border rounded\">\n                  <Col className=\"mt-1\" md={3}>\n                    <img className=\"img-fluid ig-responsive rounded product-img\" src={product.image}/>\n                  </Col>\n                  <Col className=\"mt-1\" md={6}>\n                    <h5>{product.name}</h5>\n                    <div className=\"d-flex flex-row\">\n                      <div className=\"ratings mr-2\">\n                        <i className=\"fa fa-start\"></i>\n                      </div>\n                      <p className=\"text-justify text-truncate para mb-0 mt-2\">{product.description}</p>\n                    </div>\n                  </Col>\n                  <Col className=\"align-items-center align-content-center border-left mt-1\" md={3}>\n                    <div className=\"d-flex flex-row align-items-center\">\n                      <h4 className=\"mr-1\">MAD{product.price}</h4>\n                    </div>\n                    <h6 className=\"text-success\">Free Shipping</h6>\n                    <div className=\"d-flex flex-column mt-4\">\n                      <a className=\"btn btn-primary btn-sm btn-details\" href={`/product/${product._id}`}>Details</a>\n                      <button \n                        disabled={product.countInStock === 0} \n                        className=\"btn btn-outline-primary btn-atc btn-sm mt-2\" \n                        type=\"button\"\n                        >Add to cart</button>\n                      <p className=\"m-2\">{product.countInStock > 0 ? 'Stock: ' + product.countInStock : 'Out Of Stock'}</p>\n                    </div>\n                  </Col>\n                </Row>\n              </Col>\n              ))}\n              \n            </Row>\n          </Container>\n        </>\n      )}\n    </>\n  )\n}\n\nexport default CategoryScreen\n"]},"metadata":{},"sourceType":"module"}